# ZXing_CPP Gem å‘å¸ƒæŒ‡å—

## ğŸ“‹ å‘å¸ƒå‰å‡†å¤‡

### 1. æ›´æ–°ç‰ˆæœ¬å·
å½“å‰ç‰ˆæœ¬: `0.1.1`

å»ºè®®æ–°ç‰ˆæœ¬å·ï¼ˆç”±äºæ˜¯é‡å¤§æ›´æ–°ï¼‰:
```ruby
# lib/zxing/version.rb
module ZXing
  VERSION = "0.2.0" # MiniMagick è¿ç§»ç‰ˆæœ¬
end
```

### 2. æ›´æ–° CHANGELOG
åˆ›å»ºæˆ–æ›´æ–° CHANGELOG.rdocï¼š
```
= 0.2.0 (2025-01-22)

* é‡å¤§æ›´æ–°: ä» RMagick è¿ç§»åˆ° MiniMagick
* ä¿®å¤: ImageMagick 7 å…¼å®¹æ€§é—®é¢˜
* ä¿®å¤: QR è§£ç æ®µé”™è¯¯é—®é¢˜
* æ”¹è¿›: æ›´ç¨³å®šçš„ç°åº¦æ•°æ®å¤„ç†
* æ·»åŠ : å®Œæ•´çš„é”™è¯¯å¤„ç†æœºåˆ¶
* å…¼å®¹: ä¿æŒ API å‘åå…¼å®¹

= 0.1.1 (ä¹‹å‰ç‰ˆæœ¬)
...
```

### 3. éªŒè¯ gemspec é…ç½®
å½“å‰ gemspec å·²æ­£ç¡®é…ç½®ï¼š
- âœ… ä¾èµ–é¡¹å·²æ›´æ–°ä¸º mini_magick
- âœ… å¼€å‘ä¾èµ–é¡¹åŒ…å«å¿…è¦å·¥å…·
- âœ… æ–‡ä»¶åˆ—è¡¨åŒ…å«å­æ¨¡å—æ–‡ä»¶
- âœ… æ‰©å±•é…ç½®æ­£ç¡®

## ğŸ”§ å‘å¸ƒå‡†å¤‡æ­¥éª¤

### æ­¥éª¤ 1: æ¸…ç†å’Œæäº¤ä»£ç 
```bash
# 1. æ·»åŠ æ‰€æœ‰æ–°æ–‡ä»¶
git add .

# 2. æäº¤æ›´æ”¹
git commit -m "feat: è¿ç§»ä» RMagick åˆ° MiniMagickï¼Œä¿®å¤ ImageMagick 7 å…¼å®¹æ€§

- æ›¿æ¢ RMagick ä¾èµ–ä¸º MiniMagick
- ä¿®å¤ QR è§£ç æ®µé”™è¯¯é—®é¢˜
- æ”¹è¿›ç°åº¦æ•°æ®å¤„ç†ç®—æ³•
- æ·»åŠ å®Œæ•´çš„é”™è¯¯å¤„ç†æœºåˆ¶
- ä¿æŒ API å‘åå…¼å®¹æ€§
- æ·»åŠ è¯¦ç»†çš„è¿ç§»æ–‡æ¡£"

# 3. åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾
git tag v0.2.0

# 4. æ¨é€åˆ°è¿œç¨‹ä»“åº“
git push origin master
git push origin v0.2.0
```

### æ­¥éª¤ 2: æ„å»ºå’Œæµ‹è¯• gem
```bash
# 1. æ¸…ç†ä¹‹å‰çš„æ„å»º
rm -f *.gem

# 2. æ„å»º gem
gem build zxing_cpp.gemspec

# 3. æœ¬åœ°å®‰è£…æµ‹è¯•
gem install ./zxing_cpp-0.2.0.gem

# 4. è¿è¡Œæµ‹è¯•éªŒè¯
ruby -e "require 'zxing'; puts ZXing.decode('test/qrcode.png')"
```

### æ­¥éª¤ 3: å‘å¸ƒåˆ° RubyGems
```bash
# 1. ç™»å½• RubyGemsï¼ˆå¦‚æœå°šæœªç™»å½•ï¼‰
gem signin

# 2. å‘å¸ƒ gem
gem push zxing_cpp-0.2.0.gem
```

## ğŸ“ å‘å¸ƒæ£€æŸ¥æ¸…å•

### ä»£ç è´¨é‡æ£€æŸ¥
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] QR è§£ç åŠŸèƒ½æ­£å¸¸
- [ ] å›¾åƒå¤„ç†åŠŸèƒ½æ­£å¸¸
- [ ] æ— å†…å­˜æ³„æ¼æˆ–æ®µé”™è¯¯
- [ ] å…¼å®¹æ€§æµ‹è¯•å®Œæˆ

### æ–‡æ¡£æ£€æŸ¥
- [ ] README æ›´æ–°
- [ ] CHANGELOG æ›´æ–°
- [ ] ç‰ˆæœ¬å·æ›´æ–°
- [ ] API æ–‡æ¡£å®Œæ•´

### å‘å¸ƒæµç¨‹æ£€æŸ¥
- [ ] Git æäº¤å®Œæˆ
- [ ] ç‰ˆæœ¬æ ‡ç­¾åˆ›å»º
- [ ] Gem æ„å»ºæˆåŠŸ
- [ ] æœ¬åœ°å®‰è£…æµ‹è¯•
- [ ] RubyGems å‘å¸ƒ

## ğŸš€ è‡ªåŠ¨åŒ–å‘å¸ƒè„šæœ¬

åˆ›å»ºå‘å¸ƒè„šæœ¬ `scripts/release.rb`:
```ruby
#!/usr/bin/env ruby

require_relative '../lib/zxing/version'

version = ZXing::VERSION
puts "å‡†å¤‡å‘å¸ƒ zxing_cpp v#{version}"

# æ£€æŸ¥å·¥ä½œç›®å½•æ˜¯å¦å¹²å‡€
unless `git status --porcelain`.strip.empty?
  puts "é”™è¯¯: å·¥ä½œç›®å½•ä¸å¹²å‡€ï¼Œè¯·å…ˆæäº¤æ‰€æœ‰æ›´æ”¹"
  exit 1
end

# è¿è¡Œæµ‹è¯•
puts "è¿è¡Œæµ‹è¯•..."
system("ruby test/test_zxing.rb") or exit 1

# æ„å»º gem
puts "æ„å»º gem..."
system("gem build zxing_cpp.gemspec") or exit 1

# åˆ›å»ºæ ‡ç­¾
puts "åˆ›å»º git æ ‡ç­¾..."
system("git tag v#{version}") or exit 1

# æ¨é€
puts "æ¨é€åˆ°è¿œç¨‹ä»“åº“..."
system("git push origin master") or exit 1
system("git push origin v#{version}") or exit 1

# å‘å¸ƒåˆ° RubyGems
puts "å‘å¸ƒåˆ° RubyGems..."
system("gem push zxing_cpp-#{version}.gem") or exit 1

puts "âœ… å‘å¸ƒå®Œæˆï¼"
puts "Gem é¡µé¢: https://rubygems.org/gems/zxing_cpp"
```

## ğŸ“Š å‘å¸ƒåéªŒè¯

### 1. RubyGems é¡µé¢æ£€æŸ¥
è®¿é—®: https://rubygems.org/gems/zxing_cpp
- æ£€æŸ¥ç‰ˆæœ¬å·æ­£ç¡®
- æ£€æŸ¥ä¾èµ–é¡¹æ˜¾ç¤º
- æ£€æŸ¥ä¸‹è½½ç»Ÿè®¡

### 2. å®‰è£…æµ‹è¯•
```bash
# åœ¨æ–°ç¯å¢ƒä¸­æµ‹è¯•å®‰è£…
gem install zxing_cpp

# éªŒè¯åŠŸèƒ½
ruby -e "
require 'zxing'
puts 'ZXing ç‰ˆæœ¬: ' + ZXing::VERSION
# è¿™é‡Œéœ€è¦æœ‰æµ‹è¯•å›¾ç‰‡
# result = ZXing.decode('path/to/test.png')
# puts 'è§£ç ç»“æœ: ' + result.to_s
"
```

### 3. ç¤¾åŒºé€šçŸ¥
- æ›´æ–°é¡¹ç›® README
- å‘å¸ƒ release notes
- é€šçŸ¥ç›¸å…³ç¤¾åŒºå’Œç”¨æˆ·

## âš ï¸ æ³¨æ„äº‹é¡¹

### æƒé™è¦æ±‚
- éœ€è¦å¯¹åŸå§‹ gem çš„å‘å¸ƒæƒé™
- å¦‚æœæ˜¯ fork ç‰ˆæœ¬ï¼Œè€ƒè™‘ä½¿ç”¨ä¸åŒçš„ gem åç§°

### ç‰ˆæœ¬ç­–ç•¥
- ä¸»ç‰ˆæœ¬å·: ä¸å…¼å®¹çš„ API æ›´æ”¹
- æ¬¡ç‰ˆæœ¬å·: å‘åå…¼å®¹çš„åŠŸèƒ½æ·»åŠ 
- è¡¥ä¸ç‰ˆæœ¬å·: å‘åå…¼å®¹çš„ bug ä¿®å¤

### å›æ»šè®¡åˆ’
å¦‚æœå‘å¸ƒåå‘ç°é—®é¢˜ï¼š
```bash
# æ’¤å›ç‰ˆæœ¬ï¼ˆä»…åœ¨å‘å¸ƒåå¾ˆçŸ­æ—¶é—´å†…å¯ç”¨ï¼‰
gem yank zxing_cpp -v 0.2.0

# æˆ–å‘å¸ƒä¿®å¤ç‰ˆæœ¬
# æ›´æ–°ç‰ˆæœ¬å·åˆ° 0.2.1
# ä¿®å¤é—®é¢˜åé‡æ–°å‘å¸ƒ
```

## ğŸ“ æ”¯æŒå’Œç»´æŠ¤

### å‘å¸ƒåä»»åŠ¡
1. ç›‘æ§ GitHub Issues
2. å›åº”ç”¨æˆ·åé¦ˆ
3. ä¿®å¤å‘ç°çš„ bug
4. ç»´æŠ¤æ–‡æ¡£å’Œç¤ºä¾‹

### é•¿æœŸç»´æŠ¤
1. å®šæœŸæ›´æ–°ä¾èµ–é¡¹
2. è·Ÿè¿› ImageMagick æ›´æ–°
3. æ”¹è¿›æ€§èƒ½å’Œç¨³å®šæ€§
4. æ·»åŠ æ–°åŠŸèƒ½å’Œæ ¼å¼æ”¯æŒ

---

**å‡†å¤‡å¥½å‘å¸ƒäº†å—ï¼Ÿ** æŒ‰ç…§ä¸Šè¿°æ­¥éª¤ï¼Œæ‚¨çš„ gem å°±å¯ä»¥æˆåŠŸå‘å¸ƒåˆ° RubyGemsï¼ğŸš€ 